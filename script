#!/bin/bash

path_to_const=/home/denchpro/bash_codes/task2/temp.txt #задаём путь, по которому будем хранить постоянный лог
path_to_temp=/tmp/temp.txt #задаем путь, по которому будем хранить временный лог

if ! [ -f $path_to_const ] ; #проверяем существует ли файл по заданному пути
then #начало выполнения условия
	touch $path_to_const #создание файла по заданному пути
	chmod a+w $path_to_const #выдача прав файлу для его дальнейшего редактирования
	echo "0" > $path_to_const #запись 0 в файл по заданному адресу 
fi #конец выполнения условия

if ! [ -f $path_to_temp ] ; #проверяем существует ли файл по заданному адресу
then
	touch $path_to_temp #создание файла по заданному пути
	chmod a+w $path_to_temp #выдача прав файлу для его дальнейшего редактирования
	echo "0" > $path_to_temp #запись 0 в файл по заданному адресу 
fi #конец выполнения условия


temp_var=$(cat $path_to_const) #получаем значение из файла и записываем его в переменную
echo "Since installation: $(( $temp_var + 1 ))" #выводим количество запусков на экран
echo $(( $temp_var + 1 )) > $path_to_const #записываем новое количество запусков обратно в файл
 
temp_var=$(cat $path_to_temp) #получаем значение из файла и записываем его в переменную
echo "Since last reboot: $(( $temp_var + 1 ))" #выводим количество запусков на экран
echo $(( $temp_var + 1 )) > $path_to_temp #записываем новое количество запусков обратно в файл
